 #!/usr/bin/env python3
'''
This code...
Jose F. Sanchez
Copyright (C) 2019 Lauro Sumoy Lab, IGTP, Spain
'''
import argparse
import os
import BacterialTyper

parser = argparse.ArgumentParser(
    prog='BacterialTyper',
    usage='BacterialTyper <command> <options>',
    description='BacterialTyper: Bacterial Genotyping using NGS...',

)
subparsers = parser.add_subparsers(title='Available modules', help='', metavar='')

## submodules
subparser_database = subparsers.add_parser(
    'trimm',
    help='Trimms sequencing adapters from files.',
    usage='BacterialGenotyper trimm <option> <folder> [pair]',
    description='....',
)
subparser_database.set_defaults(func=BacterialTyper.modules.trimm.run)
##subparser_database.add_argument("help", help="Example of command argument")

## submodules
subparser_database = subparsers.add_parser(
    'database',
    help='Downloads, updates and prepares database for later use.',
    usage='BacterialGenotyper database <option> <folder> [ID_file]',
    description='....',
)
subparser_database.set_defaults(func=BacterialTyper.modules.database.run)
##subparser_database.add_argument("help", help="Example of command argument")



#####
args = parser.parse_args()
if hasattr(args, 'func'):
    args.func(args)
else:
    parser.print_help()
